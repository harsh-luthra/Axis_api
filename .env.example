# ============================================================================
# Axis API - Environment Configuration (TEMPLATE)
# ============================================================================
# Copy this file to `.env` and fill in with real values.
# NEVER commit `.env` to gitâ€”only commit `.env.example`.
#
# For production:
#   1. Use a secure secret store (AWS Secrets Manager, Azure Key Vault, etc.)
#   2. Never log or print secrets
#   3. Rotate credentials regularly
#   4. Use strong, randomly generated values
# ============================================================================

# ============================================================================
# Server & Network
# ============================================================================
PORT=3000
NODE_ENV=development

# Trust proxy header when behind nginx/load-balancer (1 = trust one proxy)
TRUST_PROXY=1

# ============================================================================
# Axis Bank Integration - API Credentials
# ============================================================================
# Replace these with actual values provided by Axis Bank

# Environment: UAT or PROD
AXIS_ENV=UAT

# Client ID and Secret (from Axis registration)
AXIS_CLIENT_ID=YOUR_AXIS_CLIENT_ID_HERE
AXIS_CLIENT_SECRET=YOUR_AXIS_CLIENT_SECRET_HERE

# Channel ID (your corporate channel identifier)
AXIS_CHANNEL_ID=YOUR_CHANNEL_ID_HERE

# Corporate Code and Account Number (from Axis)
AXIS_CORP_CODE=YOUR_CORP_CODE_HERE
AXIS_CORP_ACC=YOUR_CORP_ACCOUNT_NUMBER_HERE

# Service headers (usually static per Axis docs)
AXIS_FAPI_SERVICE_ID=OpenApi
AXIS_FAPI_SERVICE_VERSION=1.0

# ============================================================================
# Axis Callback Security
# ============================================================================
# AES-128 key for decrypting callback payloads (hex format, 32 chars = 16 bytes)
# Provided by Axis in callback specification
AXIS_CALLBACK_KEY_HEX=YOUR_AXIS_CALLBACK_KEY_HEX_HERE

# ============================================================================
# TLS/mTLS - PKCS#12 Certificate
# ============================================================================
# Path to your PKCS#12 keystore file (contains your private key for mTLS)
CLIENT_P12_PATH=./certs/keystore.p12

# Password for the PKCS#12 keystore
CLIENT_P12_PASSWORD=YOUR_P12_PASSWORD_HERE

# Path to Axis public certificate for JWE encryption and JWS verification
AXIS_PUBLIC_CERT_PATH=./certs/rgw.jwejws.uat.axisb.com-sscert.txt

# HTTP request timeout (milliseconds)
AXIS_REQUEST_TIMEOUT=30000

# ============================================================================
# Master API Key (for admin endpoints like /admin/generate-api-key)
# ============================================================================
# Generate a strong, random value for production:
#   openssl rand -hex 32
MASTER_API_KEY=YOUR_MASTER_API_KEY_HERE

# ============================================================================
# Database Configuration
# ============================================================================
DB_HOST=localhost
DB_USER=root
DB_PASS=YOUR_DB_PASSWORD_HERE
DB_NAME=axis_payouts
DB_CONN_LIMIT=10

# ============================================================================
# Logging & Monitoring (Optional)
# ============================================================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# ============================================================================
# Security / Rate Limiting (Optional)
# ============================================================================
# CORS allowed origins (comma-separated; empty = allow all in dev)
CORS_ORIGIN=*

# Rate limiting: requests per minute per IP
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=120
